<!DOCTYPE html>
<html Lang="eng">
    <head>
        <meta charset = "UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <link rel="stylesheet" href="css/design.css">
        <script src="https://apis.google.com/js/api.js"></script>
      
        <title>Epic7 OCR</title>
    </head>
    <body>
        <div class = "topBar"> 
            <img src = "img/E7OCR.png">
            <div class = "navigation">
                <nav class = "menu" id = "siteNav">
                    <ul>
                        <li><a href = "index.html">Home</a></li>
                        <li><a href = "character-list.html" class = "current">Characters</a></li>
                    </ul>
                </nav>
            </div>
        </div>
        <header>
            <img src="img/epic-seven.png" class="center">
            <div class = "lowerText">
                <h1>Characters</h1>
                <br> 
                Not all characters might have their page yet, 
                we will be adding new pages as our database updates.
            </div>
        </header>
        <div class = "grid-12-col">
            <div class = "six">
                <img src = "character-images/portraits/Epic 7 - Portraits - Arbiter Vildred.png">
                <p><a href="character-page/arbiter_vil.html">Arbiter Vildred</a></p>
            </div>
            <div class = "six">
                <img src = "character-images/portraits/Epic 7 - Portraits - Seline.png">
                <p><a href="character-page/Seline.html">Spirit Eye Celine</a></p>
            </div>
            <div class = "six">
                <img src = "character-images/portraits/Epic 7 - Portraits - Cidd.png">
                <p><a href="character-page/Cidd.html">Cidd</a></p>
            </div>
            <div class = "six">
                <img src = "character-images/portraits/Epic 7 - Portraits - CLilias.png">
                <p><a href="character-page/Seline.html"></a>Commander Lilias</a></p>
            </div>
            <div class = "six">
                <img src = "character-images/portraits/Epic 7 - Portraits - Violet.png">
                <p><a href ="">Violet</a></p>
            </div>
            <div class = "six">
                <img src = "character-images/portraits/Epic 7 - Portraits - DarkCorvus.png">
                <p><a href ="character-page/DarkCorvus.html">Dark Corvus</a></p>
            </div>

            <div class = "six">
                <img src = "character-images/portraits/Epic 7 - Portraits - Rimuru.png">
                <p><a href ="">Rimuru</a></p>
            </div>
            <div class = "six">
                <img src = "character-images/portraits/Epic 7 - Portraits - Achates.png">
                <p><a href ="">Achates</a></p>
            </div>
            <div class = "six">
                <img src = "character-images/portraits/Epic 7 - Portraits - Aria.png">
                <p><a href ="">Aria</a></p>
            </div>
            <div class = "six">
                <img src = "character-images/portraits/Epic 7 - Portraits - Sten.png">
                <p><a href ="">Specter Tenebria</a></p>
            </div>
            <div class = "six">
                <img src = "character-images/portraits/Epic 7 - Portraits - Emilia.png">
                <p><a href ="">Emilia</a></p>
            </div>
            <div class = "six">
                <img src = "character-images/portraits/Epic 7 - Portraits - Eda.png">
                <p><a href ="">Eda</a></p>
            </div>

        </div>
        <footer>
            <div class = "modules">Contact</div>
            <div class = "modules">Info</div>
        </footer>
<script>  
        const start = () => {
            // Initialize the JavaScript client library
            gapi.client.init({
                'apiKey': 'AIzaSyCcLovQqozJ8tDguAigBE9PvpD4AAfEi0w',
                'discoveryDocs': ["https://sheets.googleapis.com/$discovery/rest?version=v4"],
            }).then(() => {
                return gapi.client.sheets.spreadsheets.values.get({
                spreadsheetId: '1AL6dgmFY2UVe5av0oyPyA_z4iPxxk79m0HtM_hZqWbE',
                range: 'Dictionary!A1:A50', // for example: List 1!A1:B6
                })
            }).then((response) => 
            {
                // Parse the response data
                const loadedData = response.result.values;

                // populate HTML table with data
                const table = document.getElementsByTagName('table')[0];
                
                // add column headers
                const columnHeaders = document.createElement('tr');
                columnHeaders.innerHTML =
                //table headers display
                `<th>${loadedData[0][0]}</th>`;
                table.appendChild(columnHeaders);

                // add table data rows
                for (let i = 1; i < loadedData.length; i++) 
                {
                    const tableRow = document.createElement('tr');
                    tableRow.innerHTML = 
                    //display table columns
                    `<td>${loadedData[i][0]}</td>`;
                    table.appendChild(tableRow);
                }
            }).catch((err) => 
            {
                console.log(err.error.message);
            });
        };

            // Load the JavaScript client library
            gapi.load('client', start);

    function myFilter() {
    var input, filter, table, tr, td, i, txtValue;
    input = document.getElementById("myInput");
    filter = input.value.toUpperCase();
    table = document.getElementById("tbl");
    tr = table.getElementsByTagName("tr");
    for (i = 0; i < tr.length; i++)
    {
        td = tr[i].getElementsByTagName("td"); //Watch carefully this

        for(j=0;j<td.length;++j) // new loop
            {
                console.log(td[j]);
                    if (td[j]) { //Change over here
                    txtValue = td[j].textContent || td[j].innerText;
                    console.log(txtValue);
                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                        tr[i].style.display = ""; break;
                    } else {
                        tr[i].style.display = "none";
                    }
                }
            }
        }
    }
</script>
    </body>
</html>